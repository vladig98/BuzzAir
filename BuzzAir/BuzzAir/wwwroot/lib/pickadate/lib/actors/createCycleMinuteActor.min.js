/**
 * Failed to minify the file using Terser v5.39.0. Serving the original version.
 * Original file: /npm/pickadate@5.0.0-alpha.3/lib/actors/createCycleMinuteActor.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
// @flow

import type { DatePickerActor } from 'pickadate/types'

type GetNextMinutes = (minutes: number, interval: number) => number

const createCycleMinuteActor = (
  getNextMinutes: GetNextMinutes
): DatePickerActor<> =>
  function cycleMinuteActor(state) {
    let { selected } = state
    if (!selected) {
      throw new Error('Cannot cycle the minute without a selected date')
    }

    const minutes = getNextMinutes(selected.getMinutes(), 15)
    selected = new Date(selected)
    selected.setMinutes(minutes)
    return { selected }
  }

export default createCycleMinuteActor
